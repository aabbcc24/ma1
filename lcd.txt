#include <reg51.h>

sbit RS = P0^0;
sbit RW = P0^1;
sbit EN = P0^2;

void delay(unsigned int ms){
    unsigned int i, j;
    for(i = 0; i < ms; i++){
        for(j = 0; j < 1275; j++);
    }
}

void lcd_command(unsigned char cmd){
    P1 = cmd;
    RS = 0;
    RW = 0;
    EN = 1;
    delay(1);
    EN = 0;
    delay(2);   
}

void lcd_data(unsigned char dat){
    P1 = dat;
    RS = 1;
    RW = 0;
    EN = 1;
    delay(1);
    EN = 0;
    delay(2);
}

void lcd_init(){
    delay(20);      

    lcd_command(0x38); 
    lcd_command(0x0C);  
    lcd_command(0x06);  
    lcd_command(0x01);  
    delay(2);          
    lcd_command(0x80);  
}

void main(){
    P0 = 0x00;    
    P1 = 0x00;    

    lcd_init();

    lcd_data('O');
    lcd_data('K');
}
